<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SkillForge Hub Â· enroll now</title>
  <!-- Bootstrap icons & grid (lightweight) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <!-- fonts & AOS (from paths) -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <!-- Font Awesome (optional extra icons) -->
  <script src="https://kit.fontawesome.com/1b30ffa950.js" crossorigin="anonymous"></script>
  <!-- canvas confetti library (lightweight) -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1"></script>
  <style>
    /* ---------- GLOBAL STYLES (exact copy from paths.html) ---------- */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Outfit', sans-serif;
      background: #f4f9fc;
      color: #1c2e3f;
      line-height: 1.5;
      overflow-x: hidden;
    }
    :root {
      --fog-deep: #0f2b3c;        /* deep navy â€“ trust */
      --fog-mid: #2b5f6b;          /* tealish blue â€“ calm */
      --fog-soft: #e5f0f5;         /* background */
      --mist-green: #7fc3b0;       /* soft green â€“ growth */
      --accent-glow: #ffb347;       /* warm amber â€“ energy */
      --card-white: rgba(255,255,255,0.85);
      --backdrop-blur: blur(12px);
      --border-radius-lg: 60px;
      --border-radius-md: 40px;
      --border-radius-sm: 24px;
      --box-shadow-light: 0 30px 40px -30px rgba(0,0,0,0.2);
    }

    /* ---------- scroll orb (copied from paths) ---------- */
    #orb-scroll {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 70px;
      height: 70px;
      border-radius: 50% 20% 50% 50%;
      background: rgba(127, 195, 176, 0.3);
      backdrop-filter: blur(16px) saturate(180%);
      border: 2px solid rgba(255,255,255,0.5);
      box-shadow: 0 20px 40px rgba(0,80,70,0.4), 0 0 0 6px rgba(255,255,255,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 2.2rem;
      cursor: pointer;
      transition: 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
      opacity: 0;
      visibility: hidden;
      z-index: 999;
    }
    #orb-scroll.visible { opacity: 1; visibility: visible; }
    #orb-scroll:hover {
      border-radius: 40% 40% 50% 20%;
      background: #7fc3b0;
      transform: rotate(10deg) scale(1.2);
      border-color: #ffb347;
    }

    /* ---------- custom navbar (exact copy from paths) ---------- */
    .nav-fog {
      background: rgba(15, 43, 60, 0.7);
      backdrop-filter: blur(18px);
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 1000;
      padding: 0.6rem 2rem;
      border-bottom: 2px solid rgba(127, 195, 176, 0.3);
    }
    .nav-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 1400px;
      margin: 0 auto;
    }
    .logo-block {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .logo-block img {
      height: 48px;
      filter: drop-shadow(0 4px 8px #7fc3b0);
    }
    .logo-text {
      font-size: 1.9rem;
      font-weight: 800;
      background: linear-gradient(130deg, #ffffff, #b8e3d9);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: 2px;
    }
    .nav-links {
      display: flex;
      gap: 0.4rem;
      list-style: none;
      margin: 0;
    }
    .nav-links a {
      text-decoration: none;
      color: rgba(255,255,255,0.85);
      font-weight: 500;
      padding: 0.6rem 1.4rem;
      border-radius: 50px;
      transition: 0.25s;
      font-size: 1.05rem;
    }
    .nav-links a:hover {
      background: #7fc3b0;
      color: #0f2b3c;
      transform: translateY(-3px);
    }
    .nav-cta a {
      background: white;
      color: #0f2b3c !important;
      font-weight: 700;
      padding: 0.6rem 2rem;
      border-radius: 60px;
      border: 2px solid #ffb347;
      text-decoration: none;
    }
    .nav-cta a:hover { background: #ffb347; color: #0f2b3c !important; border-color: white; }
    .mobile-toggle {
      display: none;
      background: transparent;
      border: 2px solid #7fc3b0;
      color: white;
      font-size: 2rem;
      border-radius: 40px;
      padding: 0.2rem 1rem;
      cursor: pointer;
    }
    @media (max-width: 1024px) {
      .mobile-toggle { display: block; }
      .nav-links {
        display: none;
        flex-direction: column;
        background: rgba(15,43,60,0.95);
        backdrop-filter: blur(20px);
        position: absolute;
        top: 85px;
        left: 5%;
        width: 90%;
        border-radius: 40px;
        padding: 2rem;
        z-index: 999;
      }
      .nav-links.show { display: flex; }
      .nav-links a { text-align: center; }
    }

    /* ---------- footer (exact copy from paths) ---------- */
    .footer-fog {
      background: #0f2b3c;
      color: #e5f0f5;
      padding: 4rem 5% 2rem;
      border-top: 8px solid #7fc3b0;
    }
    .footer-fog a { color: #b0d9cc; text-decoration: none; }
    .footer-fog a:hover { color: #ffb347; }

    /* ---------- global btn-mist etc (preserved from paths) ---------- */
    .btn-mist {
      background: #7fc3b0; border: none; padding: 1rem 2.5rem; border-radius: 60px;
      font-weight: 700; color: #0f2b3c; text-decoration: none; transition: 0.3s;
      box-shadow: 0 12px 20px -10px #7fc3b0; display: inline-block;
    }
    .btn-mist:hover { background: #ffb347; transform: scale(1.03); }

    /* ---------- main container (glass backdrop) - original enroll-now styles preserved ---------- */
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    main {
      flex: 1;
      margin-top: 120px; /* Account for fixed navbar */
      padding: 2rem 1rem;
    }
    .enroll-container {
      max-width: 1000px;
      width: 100%;
      margin: 0 auto;
      background: rgba(255,255,255,0.6);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border-radius: 80px;
      padding: 2.5rem 2rem;
      box-shadow: 0 60px 80px -40px #0f2b3c, 0 0 0 2px rgba(255,255,255,0.6) inset;
      border: 1px solid rgba(127,195,176,0.3);
      transition: transform 0.3s ease;
    }

    /* shift slightly when assistant is open */
    body.assistant-open .enroll-container {
      transform: scale(0.98);
    }

    /* ---------- selection cards (from enroll-now) ---------- */
    .selection-panel {
      text-align: center;
      transition: opacity 0.4s ease, transform 0.4s;
    }
    .selection-panel.hidden {
      opacity: 0;
      transform: translateY(20px);
      pointer-events: none;
      display: none;
    }
    .selection-cards {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
      margin: 3rem 0 1rem;
    }
    .selection-card {
      background: white;
      border-radius: 70px;
      padding: 2.5rem 2rem;
      flex: 1 1 280px;
      max-width: 350px;
      cursor: pointer;
      box-shadow: 0 30px 40px -20px rgba(0,0,0,0.2);
      border: 2px solid transparent;
      transition: all 0.3s cubic-bezier(0.2,0.9,0.4,1);
      text-align: center;
    }
    .selection-card:hover {
      transform: translateY(-12px) scale(1.02);
      box-shadow: 0 50px 70px -25px #0f2b3c, 0 0 0 3px #7fc3b0;
    }
    .selection-card i {
      font-size: 3.5rem;
      color: #7fc3b0;
      background: rgba(127,195,176,0.1);
      padding: 1rem;
      border-radius: 60px;
      margin-bottom: 1.5rem;
    }
    .selection-card h3 { font-size: 2rem; font-weight: 700; }
    .selection-card p { color: #2b5f6b; }

    /* ---------- form panels (from enroll-now) ---------- */
    .form-panel {
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    .form-panel.active {
      display: block;
      opacity: 1;
    }

    /* ---------- premium form styling (from enroll-now) ---------- */
    .form-title {
      font-size: 2.4rem;
      font-weight: 700;
      color: #0f2b3c;
      margin-bottom: 0.25rem;
    }
    .form-subtitle {
      color: #2b5f6b;
      margin-bottom: 2rem;
      font-size: 1.1rem;
    }
    .input-group-premium {
      margin-bottom: 1.8rem;
      position: relative;
    }
    .input-group-premium label {
      font-weight: 600;
      margin-bottom: 0.5rem;
      display: block;
      color: #0f2b3c;
    }
    .input-group-premium input, 
    .input-group-premium select, 
    .input-group-premium textarea {
      width: 100%;
      padding: 1rem 1.8rem;
      border: 2px solid rgba(127,195,176,0.3);
      border-radius: 60px;
      font-size: 1rem;
      background: white;
      transition: 0.2s;
    }
    .input-group-premium input:focus, 
    .input-group-premium select:focus, 
    .input-group-premium textarea:focus {
      outline: none;
      border-color: #7fc3b0;
      box-shadow: 0 0 0 5px rgba(127,195,176,0.2);
    }
    .input-group-premium textarea { border-radius: 40px; min-height: 120px; }

    /* file upload styling */
    .file-upload-area {
      border: 2px dashed #7fc3b0;
      border-radius: 60px;
      padding: 1.5rem;
      text-align: center;
      background: rgba(127,195,176,0.05);
      transition: 0.2s;
      cursor: pointer;
    }
    .file-upload-area:hover { background: rgba(127,195,176,0.1); }
    .file-upload-area i { font-size: 2rem; color: #7fc3b0; }
    .file-upload-area .filename { color: #2b5f6b; margin-top: 0.5rem; }

    /* checkbox & radio groups */
    .checkbox-group {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin: 1rem 0;
    }
    .checkbox-group input[type="checkbox"] {
      width: 1.5rem; height: 1.5rem; accent-color: #7fc3b0;
    }
    .radio-group {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
      margin: 1rem 0;
    }
    .radio-group label {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 400;
    }

    /* password strength */
    .strength-meter {
      height: 6px; background: #e5f0f5; border-radius: 10px; margin: 0.5rem 0 1rem;
    }
    .strength-fill {
      height: 100%; width: 0%; background: #ffb347; border-radius: 10px;
      transition: width 0.3s;
    }

    /* trust badge */
    .trust-badge {
      background: rgba(127,195,176,0.1);
      border-radius: 60px;
      padding: 1rem 1.5rem;
      display: flex;
      align-items: center;
      gap: 1rem;
      margin: 2rem 0 1rem;
    }

    /* buttons */
    .btn-premium {
      background: #7fc3b0;
      border: none;
      padding: 1.2rem 2.5rem;
      border-radius: 60px;
      font-weight: 700;
      color: #0f2b3c;
      width: 100%;
      font-size: 1.3rem;
      transition: 0.2s;
      box-shadow: 0 15px 25px -12px #7fc3b0;
    }
    .btn-premium:hover { background: #ffb347; transform: scale(1.02); }

    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: #2b5f6b;
      text-decoration: none;
      margin-bottom: 2rem;
      cursor: pointer;
    }

    /* adaptive hint */
    .adaptive-hint, .dynamic-field {
      overflow: hidden;
      transition: opacity 0.3s ease, max-height 0.4s ease, margin 0.3s ease;
      max-height: 0;
      opacity: 0;
      margin: 0;
    }
    .adaptive-hint.show, .dynamic-field.show {
      max-height: 150px;
      opacity: 1;
      margin: 0.5rem 0 1.5rem;
    }
    .dynamic-field.show {
      max-height: 300px;
    }
    .hint-badge {
      background: #eaf3f0;
      border-radius: 40px;
      padding: 0.8rem 1.5rem;
      font-size: 0.95rem;
      color: #0f2b3c;
      border-left: 6px solid #7fc3b0;
    }

    /* resume banner */
    .resume-banner {
      background: rgba(255,255,255,0.7);
      backdrop-filter: blur(4px);
      border-radius: 60px;
      padding: 0.8rem 1.8rem;
      margin-bottom: 2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border: 1px solid #7fc3b0;
      font-weight: 500;
      animation: slideDown 0.3s;
    }
    @keyframes slideDown {
      from { opacity:0; transform:translateY(-20px); }
      to { opacity:1; transform:translateY(0); }
    }
    .clear-resume {
      background: none;
      border: 2px solid #7fc3b0;
      border-radius: 40px;
      padding: 0.3rem 1rem;
      color: #0f2b3c;
      font-weight: 600;
      transition: 0.2s;
    }
    .clear-resume:hover { background: #7fc3b0; color: white; }

    /* login modal */
    .login-overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(15,43,60,0.2);
      backdrop-filter: blur(12px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      transition: opacity 0.3s ease;
    }
    .login-card {
      background: white;
      border-radius: 80px;
      padding: 2.5rem;
      max-width: 450px;
      width: 90%;
      box-shadow: 0 60px 80px -30px #0f2b3c;
      text-align: center;
    }
    .login-card h2 { font-weight: 700; color: #0f2b3c; }
    .login-email-display {
      background: #f0f9f5;
      border-radius: 60px;
      padding: 1rem;
      font-weight: 500;
      margin: 1.5rem 0;
    }
    .btn-login-close {
      background: #7fc3b0;
      border: none;
      border-radius: 60px;
      padding: 1rem;
      width: 100%;
      font-weight: 700;
    }

    /* ---------- AI ASSISTANT PANEL (from enroll-now) ---------- */
    .assistant-toggle {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: #7fc3b0;
      border: 3px solid white;
      box-shadow: 0 10px 25px rgba(15,43,60,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.2rem;
      color: #0f2b3c;
      cursor: pointer;
      transition: all 0.2s ease;
      z-index: 1001;
      animation: softPulse 2s infinite;
    }
    .assistant-toggle:hover {
      transform: scale(1.1);
      background: #ffb347;
    }
    @keyframes softPulse {
      0% { box-shadow: 0 0 0 0 rgba(127,195,176,0.5); }
      70% { box-shadow: 0 0 0 15px rgba(127,195,176,0); }
      100% { box-shadow: 0 0 0 0 rgba(127,195,176,0); }
    }

    .assistant-panel {
      position: fixed;
      top: 0;
      right: -420px;
      width: 380px;
      height: 100vh;
      background: rgba(255,255,255,0.8);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      box-shadow: -10px 0 40px -15px #0f2b3c;
      border-left: 2px solid rgba(127,195,176,0.4);
      padding: 2rem 1.5rem;
      transition: right 0.4s cubic-bezier(0.2, 0.9, 0.3, 1);
      z-index: 1002;
      display: flex;
      flex-direction: column;
      border-radius: 40px 0 0 40px;
    }
    .assistant-panel.open {
      right: 0;
    }

    .assistant-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.8rem;
    }
    .assistant-header h3 {
      font-weight: 700;
      color: #0f2b3c;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .assistant-header i {
      color: #7fc3b0;
      font-size: 2rem;
    }
    .close-assistant {
      background: none;
      border: none;
      font-size: 2rem;
      color: #2b5f6b;
      cursor: pointer;
      padding: 0 0.5rem;
    }

    .assistant-chat {
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      padding-right: 0.3rem;
      margin-bottom: 1rem;
      scroll-behavior: smooth;
    }

    .message {
      max-width: 85%;
      padding: 0.8rem 1.2rem;
      border-radius: 30px;
      font-size: 0.95rem;
      animation: messageAppear 0.3s ease;
    }
    @keyframes messageAppear {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .assistant-message {
      align-self: flex-start;
      background: #eaf3f0;
      border-bottom-left-radius: 10px;
      color: #0f2b3c;
    }
    .user-message {
      align-self: flex-end;
      background: #7fc3b0;
      color: white;
      border-bottom-right-radius: 10px;
    }
    .typing-indicator {
      display: flex;
      gap: 0.4rem;
      padding: 0.8rem 1.2rem;
      background: #eaf3f0;
      border-radius: 30px;
      width: fit-content;
    }
    .typing-indicator span {
      width: 8px;
      height: 8px;
      background: #2b5f6b;
      border-radius: 50%;
      animation: typingBounce 1.4s infinite;
    }
    .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
    .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
    @keyframes typingBounce {
      0%,60%,100% { transform: translateY(0); }
      30% { transform: translateY(-8px); }
    }

    .suggestions-area {
      background: rgba(127,195,176,0.1);
      border-radius: 30px;
      padding: 1rem;
      margin: 1rem 0;
    }
    .suggestions-title {
      font-weight: 600;
      margin-bottom: 0.8rem;
      color: #0f2b3c;
    }
    .suggestion-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
    }
    .chip {
      background: white;
      border: 1.5px solid #7fc3b0;
      border-radius: 40px;
      padding: 0.5rem 1.2rem;
      font-size: 0.9rem;
      font-weight: 500;
      color: #0f2b3c;
      cursor: pointer;
      transition: 0.2s;
    }
    .chip:hover {
      background: #7fc3b0;
      color: white;
    }

    .assistant-input-area {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    .assistant-input-area input {
      flex: 1;
      border: 2px solid rgba(127,195,176,0.4);
      border-radius: 50px;
      padding: 0.8rem 1.2rem;
      font-family: 'Outfit', sans-serif;
    }
    .assistant-input-area button {
      background: #7fc3b0;
      border: none;
      border-radius: 50px;
      width: 50px;
      height: 50px;
      font-size: 1.3rem;
      color: #0f2b3c;
      transition: 0.2s;
    }
    .assistant-input-area button:hover {
      background: #ffb347;
    }

    .field-highlight {
      outline: 4px solid rgba(127,195,176,0.4);
      transition: outline 0.2s;
    }

    .hidden { display: none !important; }

    /* responsive */
    @media (max-width: 768px) {
      .enroll-container { padding: 1.5rem; border-radius: 50px; }
      .selection-card { padding: 1.8rem; }
      .assistant-panel { width: 320px; right: -340px; }
      .assistant-toggle { bottom: 1rem; right: 1rem; }
    }

    /* btn-ghost style from paths */
    .btn-ghost {
      background: transparent; border: 2px solid #2b5f6b; color: #1c2e3f; padding: 1rem 2.5rem;
      border-radius: 60px; font-weight: 600; text-decoration: none; display: inline-block;
      transition: 0.2s;
    }
    .btn-ghost:hover { background: #2b5f6b; color: white; }

    /* Error message styling */
    .error-message {
      background: #fee9e7;
      border: 1px solid #ff6b6b;
      border-radius: 60px;
      padding: 1rem 1.5rem;
      margin-bottom: 1.5rem;
      color: #c53030;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      animation: slideIn 0.3s ease;
    }
    
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <!-- scroll orb (copied from paths) -->
  <div id="orb-scroll"><i class="bi bi-arrow-up-short"></i></div>

  <!-- custom navbar (exact copy from paths.html) -->
  <nav class="nav-fog">
    <div class="nav-container">
      <div class="logo-block">
        <img src="./img/Gemini_Generated_Image_4qm43u4qm43u4qm4-removebg-preview.png" alt="SkillForge Hub logo">
        <span class="logo-text"></span>
      </div>
      <button class="mobile-toggle" id="mobileToggle" aria-label="Toggle navigation menu">â˜°</button>
      <ul class="nav-links" id="navLinks">
        <li><a href="index.html">Home</a></li>
        <li><a href="paths.html">Paths</a></li>
        <li><a href="courses.html">Courses</a></li>
        <li><a href="mentors.html">Mentors</a></li>
        <li><a href="community.html">Community</a></li>
        <li><a href="resources.html">Resources</a></li>
      </ul>
      <div class="nav-cta"><a href="enroll-now.html" style="background: #7fc3b0; color:#0f2b3c;">Enroll Now</a></div>
    </div>
  </nav>

  <!-- MAIN CONTENT -->
  <main>
    <div class="enroll-container">
      <!-- Error display area -->
      <div id="globalError" class="error-message hidden">
        <i class="bi bi-exclamation-triangle-fill"></i>
        <span id="errorText"></span>
      </div>

      <!-- SELECTION PANEL (initial) -->
      <div id="selectionPanel" class="selection-panel">
        <h1 class="display-4 fw-bold" style="color: #0f2b3c;">welcome.</h1>
        <p class="fs-4" style="color: #2b5f6b;">choose your path to join SkillForge Hub</p>
        <div class="selection-cards">
          <!-- student card -->
          <div class="selection-card" id="selectStudent">
            <i class="bi bi-mortarboard"></i>
            <h3>Student</h3>
            <p>Access courses, mentors, and a calm learning community.</p>
          </div>
          <!-- instructor card -->
          <div class="selection-card" id="selectInstructor">
            <i class="bi bi-easel"></i>
            <h3>Instructor</h3>
            <p>Share your expertise, guide learners, and grow your impact.</p>
          </div>
        </div>
        <p class="mt-4 text-muted"><i class="bi bi-shield-lock"></i> your information is secure and never shared</p>
      </div>

      <!-- STUDENT FORM PANEL -->
      <div id="studentFormPanel" class="form-panel">
        <div class="back-link" id="backFromStudent"><i class="bi bi-arrow-left"></i> back to selection</div>
        <h2 class="form-title">Enroll as a Student</h2>
        <p class="form-subtitle">Take the next step in your educational journey.</p>
        
        <div id="studentResumeBanner" class="resume-banner hidden"><span><i class="bi bi-clock-history"></i> Resume where you left off</span><button class="clear-resume" id="clearStudentProgress">âœ• clear</button></div>

        <form id="studentForm" novalidate>
          <div class="row g-4">
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>First Name *</label>
                <input type="text" class="required" id="studentFirstName" placeholder="Alex" autocomplete="given-name">
              </div>
            </div>
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Last Name *</label>
                <input type="text" class="required" id="studentLastName" placeholder="Morgan" autocomplete="family-name">
              </div>
            </div>
          </div>

          <div class="row g-4">
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Email Address *</label>
                <input type="email" class="required" id="studentEmail" placeholder="alex@example.com" autocomplete="email">
              </div>
            </div>
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Phone Number</label>
                <input type="tel" id="studentPhone" placeholder="+1 (555) 000-9999" autocomplete="tel">
              </div>
            </div>
          </div>

          <div class="row g-4">
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Password *</label>
                <input type="password" class="required" id="studentPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="new-password">
              </div>
            </div>
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Confirm Password *</label>
                <input type="password" class="required" id="studentConfirmPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="new-password">
              </div>
            </div>
          </div>
          <div class="strength-meter"><div class="strength-fill" id="studentStrength" style="width:0%"></div></div>

          <div class="row g-4">
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Education Level</label>
                <select id="studentEdu">
                  <option value="">Select your education level...</option>
                  <option value="High School">High School</option>
                  <option value="Bachelor's">Bachelor's</option>
                  <option value="Master's">Master's</option>
                  <option value="PhD">PhD</option>
                </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Experience Level</label>
                <select id="studentExp">
                  <option value="">Select your experience...</option>
                  <option value="Beginner">Beginner</option>
                  <option value="Intermediate">Intermediate</option>
                  <option value="Advanced">Advanced</option>
                </select>
              </div>
            </div>
          </div>

          <div id="studentExpHint" class="adaptive-hint"></div>
          <div id="studentEduHint" class="adaptive-hint"></div>

          <div class="input-group-premium">
            <label>What are you hoping to learn and improve?</label>
            <textarea id="studentGoals" placeholder="Type your learning goals here..."></textarea>
          </div>
          <div id="studentGoalSuggestion" class="dynamic-field"></div>

          <label>Preferred Learning Schedule</label>
          <div class="radio-group">
            <label><input type="radio" name="schedule" value="weekdays" checked> Weekdays</label>
            <label><input type="radio" name="schedule" value="weekends"> Weekends</label>
            <label><input type="radio" name="schedule" value="flexible"> Flexible</label>
          </div>

          <div class="checkbox-group">
            <input type="checkbox" id="studentTerms" class="required">
            <label for="studentTerms">I agree to the Terms of Service and Privacy Policy *</label>
          </div>
          <div class="checkbox-group">
            <input type="checkbox" id="studentUpdates">
            <label for="studentUpdates">I would like to receive course updates and educational content via email</label>
          </div>

          <div class="trust-badge">
            <i class="bi bi-shield-check fs-2" style="color:#7fc3b0;"></i>
            <span>Your information is secure and will never be shared with third parties</span>
          </div>

          <button type="submit" class="btn-premium" id="studentSubmit">Create Student Account â†’</button>
          <p class="text-center mt-4">Already have an account? <a href="sign-in.html" style="color:#7fc3b0; font-weight:600;">Sign in</a></p>
        </form>
      </div>

      <!-- INSTRUCTOR FORM PANEL -->
      <div id="instructorFormPanel" class="form-panel">
        <div class="back-link" id="backFromInstructor"><i class="bi bi-arrow-left"></i> back to selection</div>
        <h2 class="form-title">Become an Instructor</h2>
        <p class="form-subtitle">Share your expertise. Complete the form below to apply.</p>
        
        <div id="instructorResumeBanner" class="resume-banner hidden"><span><i class="bi bi-clock-history"></i> Resume where you left off</span><button class="clear-resume" id="clearInstructorProgress">âœ• clear</button></div>

        <form id="instructorForm" novalidate>
          <div class="row g-4">
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>First Name *</label>
                <input type="text" class="required" id="instrFirstName" autocomplete="given-name">
              </div>
            </div>
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Last Name *</label>
                <input type="text" class="required" id="instrLastName" autocomplete="family-name">
              </div>
            </div>
          </div>

          <div class="row g-4">
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Email Address *</label>
                <input type="email" class="required" id="instrEmail" autocomplete="email">
              </div>
            </div>
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Phone Number</label>
                <input type="tel" id="instrPhone" autocomplete="tel">
              </div>
            </div>
          </div>

          <div class="row g-4">
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Password *</label>
                <input type="password" class="required" id="instrPassword" autocomplete="new-password">
              </div>
            </div>
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Confirm Password *</label>
                <input type="password" class="required" id="instrConfirmPassword" autocomplete="new-password">
              </div>
            </div>
          </div>
          <div class="strength-meter"><div class="strength-fill" id="instrStrength" style="width:0%"></div></div>

          <div class="row g-4">
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Education Level</label>
                <select id="instrEdu">
                  <option value="">Select your education level...</option>
                  <option value="Bachelor's">Bachelor's</option>
                  <option value="Master's">Master's</option>
                  <option value="PhD">PhD</option>
                </select>
              </div>
            </div>
            <div class="col-md-6">
              <div class="input-group-premium">
                <label>Experience Level</label>
                <select id="instrExp">
                  <option value="">Select your experience...</option>
                  <option value="Intermediate">Intermediate</option>
                  <option value="Advanced">Advanced</option>
                  <option value="Expert">Expert</option>
                </select>
              </div>
            </div>
          </div>
          <div id="instrExpHint" class="adaptive-hint"></div>
          <div id="instrEduHint" class="adaptive-hint"></div>

          <div class="input-group-premium">
            <label>Why do you want to teach on our platform?</label>
            <textarea id="instrWhy" placeholder="Type your answers here..."></textarea>
          </div>
          <div id="instrWhySuggestion" class="dynamic-field"></div>

          <!-- file uploads -->
          <div class="file-upload-area" id="uploadPassportArea">
            <i class="bi bi-cloud-upload"></i>
            <p>Upload Passport (click or drag)</p>
            <div class="filename" id="passportFilename">No file chosen</div>
            <input type="file" id="passportUpload" hidden>
          </div>

          <div class="file-upload-area mt-3" id="uploadCertArea">
            <i class="bi bi-cloud-upload"></i>
            <p>Upload Education Certificate</p>
            <div class="filename" id="certFilename">No file chosen</div>
            <input type="file" id="certUpload" hidden>
          </div>

          <label class="mt-4">Preferred Teaching Schedule</label>
          <div class="radio-group">
            <label><input type="radio" name="teachSchedule" value="weekdays" checked> Weekdays</label>
            <label><input type="radio" name="teachSchedule" value="weekends"> Weekends</label>
            <label><input type="radio" name="teachSchedule" value="flexible"> Flexible</label>
          </div>

          <div class="checkbox-group">
            <input type="checkbox" id="instrTerms" class="required">
            <label for="instrTerms">I agree to the Terms of Service and Privacy Policy *</label>
          </div>
          <div class="checkbox-group">
            <input type="checkbox" id="instrUpdates">
            <label for="instrUpdates">I would like to receive course updates and educational content via email</label>
          </div>

          <div class="trust-badge">
            <i class="bi bi-shield-check fs-2" style="color:#7fc3b0;"></i>
            <span>Your information is secure and will never be shared with third parties</span>
          </div>

          <button type="submit" class="btn-premium" id="instructorSubmit">Apply as Instructor â†’</button>
          <p class="text-center mt-4">Already have an account? <a href="sign-in.html" style="color:#7fc3b0;">Sign in</a></p>
        </form>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="footer-fog">
    <div class="container">
      <div class="row">
        <div class="col-md-4">
          <img src="./img/Gemini_Generated_Image_4qm43u4qm43u4qm4-removebg-preview.png" style="height: 60px;" alt="SkillForge Hub logo">
          <h3 style="color: white;">SkillForge Hub</h3>
          <p>where focus meets expertise. since 2025.</p>
        </div>
        <div class="col-md-2"><h5>explore</h5><ul class="list-unstyled"><li><a href="paths.html">Paths</a></li><li><a href="#">Courses</a></li><li><a href="#">Mentors</a></li></ul></div>
        <div class="col-md-2"><h5>insight</h5><ul class="list-unstyled"><li><a href="#">Blog</a></li><li><a href="#">Research</a></li><li><a href="#">Events</a></li></ul></div>
        <div class="col-md-4"><h5>join fog newsletter</h5><p>get weekly clarity</p><input class="form-control rounded-pill" placeholder="your.email@example.com"></div>
      </div>
      <hr style="border-color: #2b5f6b;">
      <p class="text-center">Â© SkillForge Hub â€” crafted for depth, not distraction.</p>
    </div>
  </footer>

  <!-- AI Assistant toggle & panel -->
  <div class="assistant-toggle" id="assistantToggle" aria-label="Open assistant" role="button" tabindex="0"><i class="bi bi-chat-dots"></i></div>

  <div class="assistant-panel" id="assistantPanel">
    <div class="assistant-header">
      <h3><i class="bi bi-robot"></i> SkillGuide AI</h3>
      <button class="close-assistant" id="closeAssistant" aria-label="Close assistant"><i class="bi bi-x-lg"></i></button>
    </div>

    <div class="assistant-chat" id="assistantChat">
      <div class="message assistant-message">ðŸ‘‹ Hi there! I'm your enrollment assistant. I'll help you create your account.</div>
    </div>

    <div class="suggestions-area" id="suggestionsArea">
      <div class="suggestions-title">âœ¨ Suggestions</div>
      <div class="suggestion-chips" id="suggestionChips">
        <span class="chip" data-suggestion="What should I write for goals?">Goals ideas</span>
        <span class="chip" data-suggestion="How to create a strong password?">Strong password</span>
        <span class="chip" data-suggestion="Why become an instructor?">Teach benefits</span>
      </div>
    </div>

    <div class="assistant-input-area">
      <input type="text" id="assistantInput" placeholder="Ask me anything...">
      <button id="sendAssistantMsg"><i class="bi bi-send"></i></button>
    </div>
  </div>

  <!-- login overlay (shown after successful signup) -->
  <div id="loginOverlay" class="login-overlay hidden">
    <div class="login-card">
      <i class="bi bi-check-circle-fill" style="font-size: 4rem; color: #7fc3b0;"></i>
      <h2 class="mt-3">Welcome aboard!</h2>
      <p>Your account has been created. Please log in.</p>
      <div class="login-email-display" id="loginEmailDisplay"></div>
      <button class="btn-login-close" id="closeLoginBtn">Continue to sign in</button>
    </div>
  </div>

  <!-- scripts -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    (function() {
      // AOS init
      AOS.init({ duration: 800, once: true });

      // scroll orb functionality
      const orb = document.getElementById('orb-scroll');
      window.addEventListener('scroll', () => {
        if (window.scrollY > 500) orb.classList.add('visible');
        else orb.classList.remove('visible');
      });
      orb.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

      // mobile toggle
      const toggle = document.getElementById('mobileToggle');
      const links = document.getElementById('navLinks');
      if (toggle) {
        toggle.addEventListener('click', () => links.classList.toggle('show'));
      }
      document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => { if (links.classList.contains('show')) links.classList.remove('show'); });
      });

      // ---------- AUTHENTICATION STORAGE KEYS ----------
      const STORAGE_KEYS = {
        users: 'skillforge_users',           // Array of all registered users
        auth: 'skillforge_logged_in_user',   // Currently authenticated user
        student: 'skillforge_student',       // Legacy student storage
        instructor: 'skillforge_instructor', // Legacy instructor storage
        remember: 'skillforge_remembered_user',
        session: 'skillforge_session'        // Session token
      };

      // UI Elements
      const selection = document.getElementById('selectionPanel');
      const studentPanel = document.getElementById('studentFormPanel');
      const instructorPanel = document.getElementById('instructorFormPanel');
      const loginOverlay = document.getElementById('loginOverlay');
      const loginEmailDisplay = document.getElementById('loginEmailDisplay');
      const globalError = document.getElementById('globalError');
      const errorText = document.getElementById('errorText');

      // Assistant elements
      const assistantToggle = document.getElementById('assistantToggle');
      const assistantPanel = document.getElementById('assistantPanel');
      const closeAssistant = document.getElementById('closeAssistant');
      const assistantChat = document.getElementById('assistantChat');
      const assistantInput = document.getElementById('assistantInput');
      const sendBtn = document.getElementById('sendAssistantMsg');
      const suggestionChips = document.querySelectorAll('.chip');
      const body = document.body;

      let currentMode = 'student';

      // ---------- HELPER FUNCTIONS ----------
      function showError(message) {
        errorText.textContent = message;
        globalError.classList.remove('hidden');
        setTimeout(() => globalError.classList.add('hidden'), 5000);
      }

      function showSuccess(message) {
        // Can be used for success messages if needed
        console.log('Success:', message);
      }

      // Check if user already exists
      function userExists(email) {
        const users = JSON.parse(localStorage.getItem(STORAGE_KEYS.users) || '[]');
        return users.some(user => user.email.toLowerCase() === email.toLowerCase());
      }

      // Get all users
      function getAllUsers() {
        return JSON.parse(localStorage.getItem(STORAGE_KEYS.users) || '[]');
      }

      // Save user to storage
      function saveUser(userData) {
        const users = getAllUsers();
        
        // Check if user already exists
        const existingIndex = users.findIndex(u => u.email.toLowerCase() === userData.email.toLowerCase());
        
        if (existingIndex >= 0) {
          // Update existing user
          users[existingIndex] = { ...users[existingIndex], ...userData, updatedAt: new Date().toISOString() };
        } else {
          // Add new user
          users.push({
            ...userData,
            createdAt: new Date().toISOString(),
            updatedAt: new Date().toISOString(),
            profileCompleted: true
          });
        }
        
        localStorage.setItem(STORAGE_KEYS.users, JSON.stringify(users));
        
        // Also save to role-specific storage for backward compatibility
        if (userData.role === 'student') {
          localStorage.setItem(STORAGE_KEYS.student, JSON.stringify(userData));
        } else {
          localStorage.setItem(STORAGE_KEYS.instructor, JSON.stringify(userData));
        }
        
        return userData;
      }

      // Password strength checker
      function checkPasswordStrength(password) {
        let strength = 0;
        if (password.length >= 6) strength += 25;
        if (password.length >= 8) strength += 25;
        if (/[A-Z]/.test(password)) strength += 25;
        if (/[0-9!@#$%^&*]/.test(password)) strength += 25;
        return strength;
      }

      // ---------- FORM HANDLING ----------
      
      // Student form submission
      document.getElementById('selectStudent')?.addEventListener('click', () => {
        selection.classList.add('hidden');
        studentPanel.classList.add('active');
        instructorPanel.classList.remove('active');
        currentMode = 'student';
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        // Check for pre-filled email from URL
        const urlParams = new URLSearchParams(window.location.search);
        const email = urlParams.get('email');
        if (email) {
          document.getElementById('studentEmail').value = decodeURIComponent(email);
        }
      });

      document.getElementById('selectInstructor')?.addEventListener('click', () => {
        selection.classList.add('hidden');
        instructorPanel.classList.add('active');
        studentPanel.classList.remove('active');
        currentMode = 'instructor';
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        // Check for pre-filled email from URL
        const urlParams = new URLSearchParams(window.location.search);
        const email = urlParams.get('email');
        if (email) {
          document.getElementById('instrEmail').value = decodeURIComponent(email);
        }
      });

      document.getElementById('backFromStudent')?.addEventListener('click', () => {
        studentPanel.classList.remove('active');
        selection.classList.remove('hidden');
      });

      document.getElementById('backFromInstructor')?.addEventListener('click', () => {
        instructorPanel.classList.remove('active');
        selection.classList.remove('hidden');
      });

      // Password strength meters
      document.getElementById('studentPassword')?.addEventListener('input', (e) => {
        const strength = checkPasswordStrength(e.target.value);
        document.getElementById('studentStrength').style.width = strength + '%';
      });

      document.getElementById('instrPassword')?.addEventListener('input', (e) => {
        const strength = checkPasswordStrength(e.target.value);
        document.getElementById('instrStrength').style.width = strength + '%';
      });

      // Student form submission
      document.getElementById('studentForm')?.addEventListener('submit', (e) => {
        e.preventDefault();
        
        // Get form values
        const firstName = document.getElementById('studentFirstName').value.trim();
        const lastName = document.getElementById('studentLastName').value.trim();
        const email = document.getElementById('studentEmail').value.trim();
        const password = document.getElementById('studentPassword').value;
        const confirmPassword = document.getElementById('studentConfirmPassword').value;
        const phone = document.getElementById('studentPhone').value.trim();
        const education = document.getElementById('studentEdu').value;
        const experience = document.getElementById('studentExp').value;
        const goals = document.getElementById('studentGoals').value.trim();
        const schedule = document.querySelector('input[name="schedule"]:checked')?.value || 'flexible';
        const updates = document.getElementById('studentUpdates').checked;
        const terms = document.getElementById('studentTerms').checked;

        // Validation
        if (!firstName || !lastName || !email || !password || !confirmPassword) {
          showError('Please fill in all required fields');
          return;
        }

        if (!terms) {
          showError('You must agree to the Terms of Service');
          return;
        }

        if (password !== confirmPassword) {
          showError('Passwords do not match');
          return;
        }

        if (password.length < 6) {
          showError('Password must be at least 6 characters');
          return;
        }

        if (userExists(email)) {
          showError('An account with this email already exists. Please sign in instead.');
          return;
        }

        // Create user object
        const userData = {
          firstName,
          lastName,
          email,
          password: btoa(password), // Simple encoding (not secure for production)
          phone,
          role: 'student',
          education,
          experience,
          goals,
          preferences: {
            schedule,
            updates
          },
          stats: {
            streak: 0,
            completed: 0,
            coursesInProgress: 0
          },
          enrolledCourses: [],
          interests: [],
          createdAt: new Date().toISOString(),
          profileCompleted: true
        };

        // Save user
        saveUser(userData);

        // Show success animation
        confetti({ particleCount: 100, spread: 70, origin: { y: 0.5 } });

        // Show login overlay
        loginEmailDisplay.innerText = email;
        loginOverlay.classList.remove('hidden');

        // Clear form
        e.target.reset();
      });

      // Instructor form submission
      document.getElementById('instructorForm')?.addEventListener('submit', (e) => {
        e.preventDefault();
        
        // Get form values
        const firstName = document.getElementById('instrFirstName').value.trim();
        const lastName = document.getElementById('instrLastName').value.trim();
        const email = document.getElementById('instrEmail').value.trim();
        const password = document.getElementById('instrPassword').value;
        const confirmPassword = document.getElementById('instrConfirmPassword').value;
        const phone = document.getElementById('instrPhone').value.trim();
        const education = document.getElementById('instrEdu').value;
        const experience = document.getElementById('instrExp').value;
        const motivation = document.getElementById('instrWhy').value.trim();
        const schedule = document.querySelector('input[name="teachSchedule"]:checked')?.value || 'flexible';
        const updates = document.getElementById('instrUpdates').checked;
        const terms = document.getElementById('instrTerms').checked;

        // Validation
        if (!firstName || !lastName || !email || !password || !confirmPassword) {
          showError('Please fill in all required fields');
          return;
        }

        if (!terms) {
          showError('You must agree to the Terms of Service');
          return;
        }

        if (password !== confirmPassword) {
          showError('Passwords do not match');
          return;
        }

        if (password.length < 6) {
          showError('Password must be at least 6 characters');
          return;
        }

        if (userExists(email)) {
          showError('An account with this email already exists. Please sign in instead.');
          return;
        }

        // Get file names (simulate upload)
        const passportFile = document.getElementById('passportUpload').files[0];
        const certFile = document.getElementById('certUpload').files[0];

        // Create user object
        const userData = {
          firstName,
          lastName,
          email,
          password: btoa(password),
          phone,
          role: 'instructor',
          education,
          experience,
          motivation,
          preferences: {
            schedule,
            updates
          },
          files: {
            passport: passportFile ? passportFile.name : null,
            certificate: certFile ? certFile.name : null
          },
          stats: {
            students: 0,
            rating: 0,
            coursesCreated: 0
          },
          coursesCreated: [],
          expertise: experience,
          bio: motivation,
          createdAt: new Date().toISOString(),
          profileCompleted: true
        };

        // Save user
        saveUser(userData);

        // Show success animation
        confetti({ particleCount: 100, spread: 70, origin: { y: 0.5 } });

        // Show login overlay
        loginEmailDisplay.innerText = email;
        loginOverlay.classList.remove('hidden');

        // Clear form
        e.target.reset();
      });

      // File upload handlers
      function setupFileUpload(areaId, inputId, displayId) {
        const area = document.getElementById(areaId);
        const input = document.getElementById(inputId);
        const display = document.getElementById(displayId);
        
        if (area && input && display) {
          area.addEventListener('click', () => input.click());
          input.addEventListener('change', () => {
            if (input.files.length) display.innerText = input.files[0].name;
            else display.innerText = 'No file chosen';
          });
        }
      }
      
      setupFileUpload('uploadPassportArea', 'passportUpload', 'passportFilename');
      setupFileUpload('uploadCertArea', 'certUpload', 'certFilename');

      // Close login overlay and redirect to sign-in
      document.getElementById('closeLoginBtn')?.addEventListener('click', () => {
        loginOverlay.classList.add('hidden');
        window.location.href = 'sign-in.html?email=' + encodeURIComponent(loginEmailDisplay.innerText);
      });

      // Check for pre-filled email from sign-in page
      const urlParams = new URLSearchParams(window.location.search);
      const prefilledEmail = urlParams.get('email');
      if (prefilledEmail) {
        // Auto-select student or let user choose
        // We'll just pre-fill both forms
        setTimeout(() => {
          if (document.getElementById('studentEmail')) {
            document.getElementById('studentEmail').value = decodeURIComponent(prefilledEmail);
          }
          if (document.getElementById('instrEmail')) {
            document.getElementById('instrEmail').value = decodeURIComponent(prefilledEmail);
          }
        }, 500);
      }

      // ---------- ASSISTANT FUNCTIONS ----------
      function addAssistantMessage(text, sender = 'assistant') {
        const msgDiv = document.createElement('div');
        msgDiv.classList.add('message', sender === 'assistant' ? 'assistant-message' : 'user-message');
        msgDiv.textContent = text;
        assistantChat.appendChild(msgDiv);
        assistantChat.scrollTop = assistantChat.scrollHeight;
      }

      function showTypingThenMessage(message, delay = 1200) {
        const typingDiv = document.createElement('div');
        typingDiv.classList.add('typing-indicator');
        typingDiv.innerHTML = '<span></span><span></span><span></span>';
        assistantChat.appendChild(typingDiv);
        assistantChat.scrollTop = assistantChat.scrollHeight;

        setTimeout(() => {
          assistantChat.removeChild(typingDiv);
          addAssistantMessage(message, 'assistant');
        }, delay);
      }

      function handleSuggestion(text) {
        addAssistantMessage(text, 'user');
        if (text.includes('goals')) {
          showTypingThenMessage('Think about skills you want to build or projects you dream of. For example: "master React" or "launch my startup".');
        } else if (text.includes('password')) {
          showTypingThenMessage('Use at least 8 characters, mix letters, numbers, and symbols. Avoid common words. I can check your password strength as you type!');
        } else if (text.includes('instructor')) {
          showTypingThenMessage('Sharing knowledge is rewarding! You can inspire others, grow your network, and even earn income. What expertise would you like to share?');
        } else {
          showTypingThenMessage('Got it! Let me know if you need more help with your enrollment.');
        }
      }

      // Assistant event listeners
      if (assistantToggle) {
        assistantToggle.addEventListener('click', () => {
          assistantPanel.classList.add('open');
          body.classList.add('assistant-open');
        });
      }

      if (closeAssistant) {
        closeAssistant.addEventListener('click', () => {
          assistantPanel.classList.remove('open');
          body.classList.remove('assistant-open');
        });
      }

      if (sendBtn) {
        sendBtn.addEventListener('click', () => {
          const text = assistantInput.value.trim();
          if (!text) return;
          handleSuggestion(text);
          assistantInput.value = '';
        });
      }

      if (assistantInput) {
        assistantInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') sendBtn.click();
        });
      }

      suggestionChips.forEach(chip => {
        chip.addEventListener('click', () => {
          handleSuggestion(chip.getAttribute('data-suggestion'));
        });
      });

      // Field focus tips
      const fields = [
        { id: 'studentFirstName', tip: 'Your legal first name as it appears on official documents.' },
        { id: 'studentEmail', tip: 'We\'ll send course updates and login info here. Use an email you check regularly.' },
        { id: 'studentPassword', tip: 'Make it strong: 8+ chars, with numbers and symbols. I\'ll show you the strength.' },
        { id: 'studentGoals', tip: 'Be specific! Example: "learn data science for my job" or "build a portfolio".' },
        { id: 'instrWhy', tip: 'Tell us what excites you about teaching. Passion shines through!' }
      ];
      
      fields.forEach(f => {
        const el = document.getElementById(f.id);
        if (el) {
          el.addEventListener('focus', () => {
            if (assistantPanel.classList.contains('open')) {
              addAssistantMessage(`ðŸ’¡ Tip: ${f.tip}`, 'assistant');
            }
          });
        }
      });

      // Check if user is already logged in (redirect to profile)
      const activeSession = localStorage.getItem(STORAGE_KEYS.auth);
      if (activeSession) {
        // If user is already logged in, show a message but don't auto-redirect
        // They might want to create another account
        const msg = document.createElement('div');
        msg.className = 'resume-banner';
        msg.innerHTML = `<span><i class="bi bi-info-circle"></i> You're already logged in as ${JSON.parse(activeSession).email}. <a href="user-profile.html" style="color:#7fc3b0;">Go to profile</a></span>`;
        document.querySelector('.enroll-container').prepend(msg);
      }

      // Clear any duplicate script at the bottom
      // The duplicate script block at the end of the original file has been removed
    })();
  </script>
</body>
</html>